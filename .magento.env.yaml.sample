#######################################################################################################################
# SCD_THREADS - the number of threads for static content deployment.                                                  #
# Default value: 1 — Starter environments and Pro Integration environments                                            #
#                3 — Pro Staging and Production environments                                                          #
# Magento Version: 2.1.4 and later                                                                                    #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          SCD_THREADS: 2                                                                                             #
#######################################################################################################################
# SCD_EXCLUDE_THEMES - this option does not generate static content for the specified theme location(s).              #
#                      This is helpful when static content deployment occurs during the build/deploy phase.           #
#                      Use commas to separate multiple theme locations.                                               #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: empty line                                                                                           #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          SCD_EXCLUDE_THEMES: "magento/luma, magento/my-theme"                                                       #
#######################################################################################################################
# SCD_STRATEGY - allows you to customize the deployment strategy for static content.                                  #
# Magento Version: 2.2.0 and later (Magento 2.1.* supports the standard strategy only)                                #
# Default value: quick                                                                                                #
# Possible values:                                                                                                    #
#                  standard — deploys all static view files for all packages.                                         #
#                  quick — minimizes deployment time. This is the default command option if not specified.            #
#                  compact — conserves disk space on the server.                                                      #
#                            If you use compact, it overrides the value for SCD_THREADS with a value of 1.            #
#                            This strategy does not work with multi-threads.                                          #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          SCD_STRATEGY: "compact"                                                                                    #
#######################################################################################################################
# SKIP_SCD - skips static content deployment during the build/deploy phase.                                           #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: not set                                                                                              #
# Possible values: true or false                                                                                      #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          SKIP_SCD: true                                                                                             #
#######################################################################################################################
# VERBOSE_COMMANDS - enables or disables the Symfony debug verbosity level for your logs. Be aware,                   #
#                    if you enable this verbosity, the logs will be deeply detailed.                                  #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: not set                                                                                              #
# Possible values:                                                                                                    #
#                  "-v"                                                                                               #
#                  "-vv"                                                                                              #
#                  "-vvv"                                                                                             #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          VERBOSE_COMMANDS: "-vv"                                                                                    #
#          SKIP_SCD: true                                                                                             #
#######################################################################################################################
# SKIP_HTML_MINIFICATION - skip copying the static view files in the var/view_preprocessed directory                  #
#                          to reduce downtime when deploying to the Staging and Production environments               #
#                          and generates minified HTML when requested.                                                #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: false                                                                                                #
# Possible values:                                                                                                    #
#                  false — copies the view_preprocessed directory to the <magento_root>/init/ directory at the end    #
#                          of the build stage, and restores the directory in the <magento_root>/var directory         #
#                          at the beginning of the deployment stage.                                                  #
#                  true — enables on-demand static content minification;                                              #
#                         does not copy the <magento_root>var/view_preprocessed to the <magento_root>/init/ directory #
#                         at the end of the build stage.                                                              #
# Stages: global                                                                                                      #
# Example:                                                                                                            #
#          SKIP_HTML_MINIFICATION: true                                                                               #
#######################################################################################################################
# SCD_ON_DEMAND - enable generation of static content when requested by a user.                                       #
#                 Pre-loading the cache using the post_deploy hook reduces site downtime.                             #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: false                                                                                                #
# Possible values: true or false                                                                                      #
# Stages: global                                                                                                      #
# Example:                                                                                                            #
#          SCD_ON_DEMAND: true                                                                                        #
#######################################################################################################################
# SCD_COMPRESSION_LEVEL - specifies which gzip compression level (0 to 9) to use when compressing static content;     #
#                         0 disables compression.                                                                     #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: 6                                                                                                    #
# Possible values: from 0 to 9                                                                                        #
# Stages: global, build and deploy                                                                                    #
# Example:                                                                                                            #
#          SCD_COMPRESSION_LEVEL: 4                                                                                   #
#######################################################################################################################
# CLEAN_STATIC_FILES - cleans generated static view files when you perform an action like enabling                    #
#                      or disabling a component. We recommend the default value in development.                       #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: true                                                                                                 #
# Possible values: true or false                                                                                      #
# Example:                                                                                                            #
#          CLEAN_STATIC_FILES: false                                                                                  #
#######################################################################################################################
# STATIC_CONTENT_SYMLINK - generates symlinks for static content, unless you disable it                               #
#                          using this environment variable. This setting is vital in the Pro Production environment   #
#                          for the three node cluster. When this variable is not set (disabled), it must copy every   #
#                          file during the deployment, which increases deployment time. Setting SCD_ON_DEMAND to true #
#                          disables this variable.                                                                    #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: true                                                                                                 #
# Possible values: true or false                                                                                      #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          STATIC_CONTENT_SYMLINK: false                                                                              #
#######################################################################################################################
# UPDATE_URLS - on deployment, replace Magento base URLs in the database with project URLs.                           #
#               This is useful for local development, where base URLs are set up for your local environment.          #
#               When you deploy to a Cloud environment, we change the URLs so you can access your storefront          #
#               and Magento Admin using project URLs.                                                                 #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: true                                                                                                 #
# Possible values: true or false                                                                                      #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          UPDATE_URLS: false                                                                                         #
#######################################################################################################################
# GENERATED_CODE_SYMLINK - generates symlinks for the var/generation and var/di generated folders.                    #
# Magento Version: only 2.1.*                                                                                         #
# Default value: true                                                                                                 #
# Possible values: true or false                                                                                      #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          GENERATED_CODE_SYMLINK: false                                                                              #
#######################################################################################################################
# MYSQL_USE_SLAVE_CONNECTION - set to true to automatically use a read-only connection to the database                #
#                              to receive read-only traffic on a non-master node. This improves performance           #
#                              through load balancing, because only one node needs to handle read-write traffic.      #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: false                                                                                                #
# Possible values: true or false                                                                                      #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          MYSQL_USE_SLAVE_CONNECTION: true                                                                           #
#######################################################################################################################
# REDIS_USE_SLAVE_CONNECTION - set to true to automatically use a read-only connection to a Redis instance            #
#                              to receive read-only traffic on a non-master node. This improves performance           #
#                              through load balancing because only one node needs to handle read-write traffic.       #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: false                                                                                                #
# Possible values: true or false                                                                                      #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          REDIS_USE_SLAVE_CONNECTION: true                                                                           #
#######################################################################################################################
# QUEUE_CONFIGURATION - use this environment variable to retain customized AMQP service settings between deployments. #
# Magento Version: 2.1.4 and later                                                                                    #
# Default value: Not set                                                                                              #
# Stages: deploy                                                                                                      #
# Example:                                                                                                            #
#          QUEUE_CONFIGURATION:                                                                                       #
#            amqp:                                                                                                    #
#              host: test.host                                                                                        #
#              port: 1234                                                                                             #
#            amqp2:                                                                                                   #
#              host: test.host2                                                                                       #
#              port: 12345                                                                                            #
#            mq:                                                                                                      #
#              host: mq.host                                                                                          #
#              port: 1234                                                                                             #
#######################################################################################################################

stage:
  global:
      SCD_THREADS: 1
      SCD_EXCLUDE_THEMES: ""
      SCD_STRATEGY: ""
      SKIP_SCD: false
      VERBOSE_COMMANDS: ""
      SKIP_HTML_MINIFICATION: false
      SCD_ON_DEMAND: false
      SCD_COMPRESSION_LEVEL: 4
  build:
  deploy:
      CLEAN_STATIC_FILES: true
      STATIC_CONTENT_SYMLINK: true
      UPDATE_URLS: true
      GENERATED_CODE_SYMLINK: true
      MYSQL_USE_SLAVE_CONNECTION: false
      REDIS_USE_SLAVE_CONNECTION: false
      QUEUE_CONFIGURATION: { }
      SEARCH_CONFIGURATION: { }
      CRON_CONSUMERS_RUNNER: { }
      CACHE_CONFIGURATION: { }
      SESSION_CONFIGURATION: { }
  post-deploy:
      WARM_UP_PAGES:
          - "index.php"
          - "index.php/customer/account/create"
log:
  slack:
      token: "<your-slack-token>"
      channel: "<your-slack-channel>"
      username: "SlackHandler"
      min_level: "info"
  email:
      to: <your-email>
      from: <your-email>
      subject: "Log notification from Magento Cloud"
      min_level: "notice"
  syslog:
      ident: "<syslog-ident>"
      facility: 8 # http://php.net/manual/en/network.constants.php
      min_level: "info"
      logopts: <syslog-logopts>
  syslog_udp:
      host: "<syslog-host>"
      port: <syslog-port>
      facility: 8  # http://php.net/manual/en/network.constants.php
      ident: "<syslog-ident>"
      min_level: "info"
  gelf:
      min_level: "info"
      use_default_formatter: true
      additional: # Some additional information for each log message
          project: "<some-project-id>"
          app_id: "<some-app-id>"
      transport:
          http:
              host: "<http-host>"
              port: <http-port>
              path: "<http-path>"
              connection_timeout: 60
          tcp:
              host: "<tcp-host>"
              port: <tcp-port>
              connection_timeout: 60
          udp:
              host: "<udp-host>"
              port: <udp-port>
              chunk_size: 1024
